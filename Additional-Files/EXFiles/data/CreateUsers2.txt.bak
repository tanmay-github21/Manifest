List<User> users = new List<User>();
String usernameRandomBit = String.valueOf(Math.random()).substring(2, 14);
Id chatterProfileId = [SELECT Id FROM Profile WHERE Name = 'Chatter External User' LIMIT 1].Id;
Id trainingProfileId = [SELECT Id FROM Profile WHERE Name = 'Training User' LIMIT 1].Id;

// Training users
users.add(new User(Alias = 'ELTOROIT', Email = 'ELTOROIT.awtraining@example.com', FirstName = 'Andres', LastName = 'Perez', ProfileId = trainingProfileId));

users.add(new User(Alias='JSheprd', Email = 'JShepherd.awtraining@example.com', firstName='Jane', lastName='Shepherd', ProfileId=trainingProfileId));
// Instructors
users.add(new User(Alias='AKATO', FirstName = 'Akira', LastName = 'Kato', Email = 'akato.awtraining@example.com', ProfileId = chatterProfileId, Is_Instructor__c = true));

users.add(new User(Alias='EPETERS', FirstName = 'Eugene', LastName = 'Peters', Email = 'epeters.awtraining@example.com', ProfileId = chatterProfileId, Is_Instructor__c = true));


// Populate other fields
for (User u : users) {
	u.CommunityNickname = u.Alias + '.awtraining';
	u.EmailEncodingKey = 'ISO-8859-1';
	u.LanguageLocaleKey = 'en_US';
	u.LocaleSidKey = 'en_US';
	u.TimeZoneSidKey = 'America/Los_Angeles';
	u.Username = u.Alias + '.' + usernameRandomBit + '@awtraining.com';
}

// Perform the DML
insert users;

//Enable debug mode for the default scratch org user
User defaultUser = [SELECT Id FROM User WHERE Name = 'User User'];
defaultUser.UserPreferencesUserDebugModePref = true;
update defaultUser;